# ============================================================================
# Inventaire Ansible - Tests de Stress IBM i
# ============================================================================
# Fichier d'inventaire exemple pour les tests de performance sur IBM i
# Copiez ce fichier vers 'inventory.ini' et adaptez-le à votre environnement
# ============================================================================

# -----------------------------------------------------------------------------
# Groupe Principal - Serveurs IBM i pour Tests de Performance
# -----------------------------------------------------------------------------
[ibmi_stress_test]
# Serveur de développement
ibmi-dev.example.com ansible_host=192.168.1.10

# Serveur de test
ibmi-test.example.com ansible_host=192.168.1.20

# Serveur de pré-production
# ibmi-preprod.example.com ansible_host=192.168.1.30

# -----------------------------------------------------------------------------
# Groupe - Serveurs pour Tests de Baseline (avant mise à jour)
# -----------------------------------------------------------------------------
[ibmi_baseline]
ibmi-dev.example.com

# -----------------------------------------------------------------------------
# Groupe - Serveurs pour Tests de Validation (après mise à jour)
# -----------------------------------------------------------------------------
[ibmi_validation]
ibmi-test.example.com

# -----------------------------------------------------------------------------
# Variables Communes pour tous les Serveurs IBM i
# -----------------------------------------------------------------------------
[ibmi_stress_test:vars]
# Connexion SSH
ansible_connection=ssh
ansible_user=QSECOFR
ansible_ssh_pass=your_password_here
# Ou utilisez une clé SSH (recommandé):
# ansible_ssh_private_key_file=~/.ssh/id_rsa

# Python sur IBM i
ansible_python_interpreter=/QOpenSys/pkgs/bin/python3

# Timeout pour les commandes longues
ansible_command_timeout=7200

# Désactiver la vérification de la clé d'hôte (pour les tests uniquement)
ansible_ssh_common_args='-o StrictHostKeyChecking=no'

# -----------------------------------------------------------------------------
# Variables Spécifiques par Environnement
# -----------------------------------------------------------------------------
[ibmi_stress_test:children]
ibmi_dev_env
ibmi_test_env
ibmi_prod_env

[ibmi_dev_env]
ibmi-dev.example.com

[ibmi_dev_env:vars]
environment_name=development
cpu_cores=2
cpu_intensity=medium
io_processes=1
test_duration=120

[ibmi_test_env]
ibmi-test.example.com

[ibmi_test_env:vars]
environment_name=test
cpu_cores=4
cpu_intensity=high
io_processes=2
test_duration=300

[ibmi_prod_env]
# ibmi-prod.example.com

[ibmi_prod_env:vars]
environment_name=production
cpu_cores=8
cpu_intensity=extreme
io_processes=4
test_duration=600

# -----------------------------------------------------------------------------
# Exemple d'Utilisation
# -----------------------------------------------------------------------------
# Tester la connexion:
#   ansible -i inventory.ini ibmi_stress_test -m ping
#
# Exécuter un playbook sur tous les serveurs:
#   ansible-playbook -i inventory.ini deploy_stress_tools.yml
#
# Exécuter sur un serveur spécifique:
#   ansible-playbook -i inventory.ini run_cpu_stress.yml --limit ibmi-dev.example.com
#
# Exécuter sur un groupe:
#   ansible-playbook -i inventory.ini run_cpu_stress.yml --limit ibmi_dev_env
#
# Avec des variables supplémentaires:
#   ansible-playbook -i inventory.ini run_cpu_stress.yml --extra-vars "cpu_cores=8"
# ============================================================================

; Made with Bob
